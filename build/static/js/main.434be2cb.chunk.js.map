{"version":3,"sources":["Components/Persons.js","Components/PersonForm.js","Components/Filter.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","handleDelete","sort","a","b","name","map","person","i","key","style","listStyle","number","onClick","id","PersonForm","props","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","display","marginLeft","value","onChange","margin","type","placeholder","Filter","filt_name","handleFilter","baseUrl","axios","get","then","response","data","personObject","post","put","delete","App","useState","setPersons","useEffect","personService","initialPersons","setNewName","setNewNumber","showAll","setShowAll","setFilt_name","message","setMessage","notificationColor","setNotificationColor","messageStyle","color","backgroundColor","border","personsToShow","filter","toUpperCase","includes","handleUpdateNumber","returnedPerson","setTimeout","catch","error","Notification","event","target","preventDefault","Math","random","toString","substr","names","el","alert","window","confirm","idUpdate","find","element","concat","e","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.434be2cb.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Persons = ({ persons, handleDelete }) => {\n  return (\n    <div>\n      <ul>\n        {persons\n          .sort((a, b) => (a.name > b.name ? 1 : b.name > a.name ? -1 : 0))\n          .map((person, i) => (\n            <li key={person.name} style={{ listStyle: \"none\" }}>\n              {person.name} {person.number}{\" \"}\n              <button onClick={() => handleDelete(person.id)}>Delete</button>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\nexport default Persons;\n","import React from \"react\";\n\nconst PersonForm = (props) => {\n  const {\n    addPerson,\n    newName,\n    handleNewName,\n    newNumber,\n    handleNewNumber,\n  } = props;\n\n  return (\n    <div>\n      <form id=\"nameForm\" onSubmit={addPerson}>\n        <div>\n          <label style={{ display: \"block\", marginLeft: \"10px\" }}>Name</label>\n          <input\n            value={newName}\n            onChange={handleNewName}\n            style={{ margin: \"10px\" }}\n          />\n\n          <div>\n            <label style={{ display: \"block\", marginLeft: \"10px\" }}>\n              Number\n            </label>\n            <input\n              type=\"number\"\n              value={newNumber}\n              onChange={handleNewNumber}\n              placeholder=\"ex. 0441234567\"\n              style={{ margin: \"10px\" }}\n            />\n          </div>\n        </div>\n        <div>\n          <button type=\"submit\" style={{ margin: \"10px\" }}>\n            Add new contact\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = (props) => {\n  const { filt_name, handleFilter } = props;\n\n  return (\n    <div>\n      <label style={{ margin: \"10px\" }}>Find</label>\n      <input\n        value={filt_name}\n        onChange={handleFilter}\n        style={{ margin: \"10px\" }}\n      />\n    </div>\n  );\n};\nexport default Filter;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (personObject) => {\n  const request = axios.post(baseUrl, personObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, personObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, personObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n};\n\nexport default { getAll, create, update, deletePerson };\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./Components/Persons\";\nimport PersonForm from \"./Components/PersonForm\";\nimport Filter from \"./Components/Filter\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  // Adding new contact\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  // for Filtering (FIND)\n  const [showAll, setShowAll] = useState(true);\n  const [filt_name, setFilt_name] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [notificationColor, setNotificationColor] = useState(false);\n\n  const messageStyle = {\n    color: notificationColor ? \"green\" : \"red\",\n    backgroundColor: \"#c7dbc3\",\n    border: notificationColor ? \"solid 1px green\" : \"solid 1px red\",\n  };\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter((person) =>\n        person.name.toUpperCase().includes(filt_name.toUpperCase())\n      );\n\n  const handleFilter = (event) => {\n    setFilt_name(event.target.value);\n    setShowAll(false);\n  };\n\n  const handleNewName = (event) => {\n    //console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n  const handleNewNumber = (event) => {\n    // console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: \"_\" + Math.random().toString(36).substr(2, 9),\n    };\n    // prevent adding existing name\n    const names = persons.map((el) => el.name); // array of existing names\n    if (newName === \"\" || newNumber === \"\") {\n      alert(\"Type a name with number\");\n    } else if (names.includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const idUpdate = persons.find((element) => element.name === newName).id;\n        handleUpdateNumber(idUpdate, personObject);\n      }\n    } else {\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNotificationColor(true);\n        setMessage(`Added ${personObject.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 2000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    }\n  };\n  const handleUpdateNumber = (id) => {\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: id,\n    };\n\n    personService\n      .update(id, personObject)\n      .then((returnedPerson) => {\n        setPersons(\n          persons.map((person) => (person.id !== id ? person : returnedPerson))\n        );\n        setNotificationColor(true);\n        setMessage(`${personObject.name} number was changed`);\n\n        setTimeout(() => {\n          setMessage(null);\n        }, 2000);\n\n        setNewName(\"\");\n        setNewNumber(\"\");\n      })\n      .catch((error) => {\n        setNotificationColor(false);\n        setMessage(\n          `Information of ${personObject.name} has already been removed from server`\n        );\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n  };\n\n  const handleDelete = (id) => {\n    if (\n      window.confirm(\n        `Delete  ${persons.find((element) => element.id === id).name}?`\n      )\n    ) {\n      //console.log(\"delete\", id);\n      personService.deletePerson(id).catch((e) => console.log(e.message));\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null;\n    }\n    return (\n      <div style={messageStyle}>\n        <p style={{ margin: \"10px\" }}>{message}</p>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message && <Notification message={message} />}\n      <Filter filt_name={filt_name} handleFilter={handleFilter} />\n\n      <h3 style={{ margin: \"10px\" }}>Add a contact</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNewName={handleNewName}\n        newNumber={newNumber}\n        handleNewNumber={handleNewNumber}\n      />\n\n      <h2 style={{ margin: \"10px\" }}>Contacts</h2>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}